Монитор, как сущность объекта.
В Java каждому объекту после его создания присваивается
специальная сущность, под названием Монитор (Monitor lock).
И эта сущность в один момент времени может быть только у
одного потока.
Ключевое слово synchronized использует эту особенность языка
Java. Только один поток может завладеть этим монитором, монитором
одного объекта.
Монитор используется для того чтобы дать понять Java , что в
данный момент данный поток взаимодействует с объектом.
Поэтому другие потоки не должны взаимодействовать с этим объектом,
а они должны ждать.
Монитор нужен, для того чтобы поток мог получить доступ к полям и
методам объекта.
Когда мы создаём объекты, Java создаёт монитор, который привязывает
к этому объекту.
И синхронизация происходит на объекте. Для синхронизации нужен объект.
И у всех объектов есть монитор. И монитор в один момент времени может
принадлежать одному потоку. И таким образом только один поток в один
момент времени будет исполнять наш код, код который написан в нашем
методе. В методе могут быть неатомарные операции (инструкции).
Используя слово synchronized в методе, мы указывает что синхронизируемся
на объекте this. Т.е. создали объект, вызвали метод этого объекта, а
на этом методе стоит ключевое слово synchronized, это и обозначает что
мы синхронизируемся на нашем созданном объекте, вернее на его мониторе.
Но можно также ключевому слову synchronized явно указывать объект на
котором хотим синхронизироваться.
Синхронизируясь на отдельном объекте можно увеличить производительность,
работу программы.
Ключевым словом synchronise мы ибираем условие гонки (rise condition).
